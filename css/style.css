/* style.css - reset, variables, layout, and components */
/* Basic reset (minimal) */
:root{
  --color-primary: #0B1F3B; /* Navy */
  --color-accent: #C8A96A;  /* Gold */
  --color-char: #222222;    /* Charcoal */
  --color-bg: #F7F6F2;      /* Off-white */
  --max-w: 1080px;
  --radius: 12px;
  --gap: 1.25rem;
  --muted: #5a5a5a;
  --transition: 200ms ease;
  --shadow: 0 6px 18px rgba(11,31,59,0.06);
}

/* Respect reduced motion */
@media (prefers-reduced-motion: reduce) {
  * { transition: none !important; animation: none !important; scroll-behavior: auto !important; }
}

/* Basic styles */
* { 
  box-sizing: border-box; 
  max-width: 100%;
}
html { 
  overflow-x: hidden; 
  width: 100%;
}
body {
  margin:0;
  font-family: "Inter", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  background:var(--color-bg);
  color:var(--color-char);
  -webkit-font-smoothing:antialiased;
  -moz-osx-font-smoothing:grayscale;
  line-height:1.45;
  -webkit-text-size-adjust:100%;
  transition: background var(--transition), color var(--transition);
  width: 100%;
  max-width: 100vw;
  overflow-x: hidden;
  word-wrap: break-word;
  overflow-wrap: break-word;
  position: relative;
}

/* Container */
.container { 
  max-width:var(--max-w); 
  margin:0 auto; 
  padding:2rem 1rem; 
  width: 100%; 
  box-sizing: border-box; 
  min-height: auto; 
  overflow-x: hidden;
}

/* Header */
.site-header { border-bottom:1px solid rgba(11,31,59,0.06); background:transparent; position:sticky; top:0; z-index:50; backdrop-filter: blur(4px); width: 100%; overflow-x: hidden; }
.header-inner { display:flex; align-items:center; justify-content:space-between; gap:1rem; padding:1rem 0; width: 100%; box-sizing: border-box; }
.brand { display:flex; align-items:center; gap:0.75rem; }
.logo { width:44px; height:44px; }
.site-name { margin:0; font-family: "Libre Baskerville", Georgia, serif; font-size:1.15rem; }
.site-tag { margin:0; color:var(--muted); font-size:0.85rem; }

/* Buttons */
.btn { font:inherit; padding:0.5rem 0.8rem; border-radius:8px; border:1px solid transparent; background:transparent; cursor:pointer; text-decoration:none; display:inline-block; }
.btn.small { padding:0.35rem 0.6rem; font-size:0.9rem; }
.btn.primary { background:var(--color-primary); color: #fff; border-color: rgba(255,255,255,0.06); box-shadow: var(--shadow); }
.btn.ghost { border-color: rgba(11,31,59,0.06); color:var(--color-char); background:transparent; }

/* Skip link */
.skip-link { position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden; }
.skip-link:focus { left:1rem; top:1rem; width:auto; height:auto; padding:0.5rem 1rem; background:#fff; border-radius:6px; box-shadow: 0 6px 18px rgba(0,0,0,0.08); }

/* Hero */
.hero { padding-top:2rem; padding-bottom:2rem; }
.hero-content { display:flex; gap:2rem; align-items:center; justify-content:space-between; }
.hero-text h2 { margin:0 0 0.5rem 0; font-family: "Libre Baskerville", Georgia, serif; font-size:1.6rem; }
.lead { color:var(--muted); margin:0 0 1rem 0; max-width:56ch; }
.hero-avatar img { width:200px; height:200px; border-radius:999px; object-fit:cover; object-position:center top; border:6px solid var(--color-bg); box-shadow:var(--shadow); }

/* Sections */
section { 
  margin:2rem 0; 
  padding:1.25rem; 
  background:transparent; 
  border-radius:var(--radius); 
  min-height: fit-content; 
  width: 100%;
  max-width: 100%;
  overflow-x: hidden;
}
section h3 { margin-top:0; font-family: "Libre Baskerville", Georgia, serif; font-size:1.05rem; color:var(--color-primary); font-weight: 600; }

/* Skills */
.skill-grid { display:grid; grid-template-columns: repeat(auto-fit,minmax(200px,1fr)); gap:1rem; }
.skill-card { background:#fff; padding:1rem; border-radius:10px; box-shadow:var(--shadow); }

/* Projects */
.filter-row { display:flex; gap:0.5rem; margin-bottom:1rem; }
.filter-btn { padding:0.45rem 0.6rem; border-radius:8px; border:1px solid rgba(11,31,59,0.06); background:transparent; cursor:pointer; }
.filter-btn.active { background:var(--color-accent); color: #fff; }

.projects-grid { display:grid; gap:1rem; grid-template-columns: repeat(auto-fit,minmax(260px,1fr)); width: 100%; max-width: 100%; }
.project-card { background:#fff; padding:1rem; border-radius:12px; box-shadow:var(--shadow); display:flex; flex-direction:column; gap:0.5rem; width: 100%; max-width: 100%; box-sizing: border-box; }
.project-desc { word-wrap: break-word; overflow-wrap: break-word; hyphens: auto; width: 100%; max-width: 100%; }
.chips { list-style:none; padding:0; display:flex; gap:0.4rem; margin:0; flex-wrap:wrap; width: 100%; max-width: 100%;}
.chips li { background:rgba(11,31,59,0.05); padding:0.2rem 0.5rem; border-radius:8px; font-size:0.85rem; color:var(--muted); word-break: keep-all; max-width: 100%; }

/* Contact cards */
.contact-cards { display:flex; gap:0.75rem; flex-wrap:wrap; }
.contact-card { display:flex; gap:0.6rem; align-items:center; padding:0.6rem 0.8rem; border-radius:10px; background:#fff; box-shadow:var(--shadow); border:1px solid rgba(11,31,59,0.03); text-decoration:none; color:inherit; }
.contact-card .icon { width:28px; height:28px; opacity:0.9; }

/* Footer */
.site-footer { border-top:1px solid rgba(11,31,59,0.06); padding:1rem 0; text-align:center; color:var(--muted); font-size:0.9rem; }

/* Toast */
.toast { position:fixed; bottom:1.25rem; left:50%; transform:translateX(-50%); background:var(--color-primary); color:#fff; padding:0.6rem 1rem; border-radius:10px; box-shadow:var(--shadow); }

/* RTL Support */
[dir="rtl"] { 
  overflow-x: hidden; 
  width: 100%;
}
[dir="rtl"] .brand { flex-direction: row-reverse; }
[dir="rtl"] .hero-content { flex-direction: row-reverse; }
[dir="rtl"] .contact-cards { direction: rtl; }
[dir="rtl"] .contact-card { flex-direction: row-reverse; }
[dir="rtl"] .skill-grid { direction: rtl; }
[dir="rtl"] .projects-grid { direction: rtl; }
[dir="rtl"] .filter-row { direction: rtl; }
[dir="rtl"] .chips { direction: rtl; }
[dir="rtl"] .hero-ctas { direction: rtl; }
[dir="rtl"] .top-controls { direction: rtl; }

/* RTL Mobile Fixes */
@media (max-width: 768px) {
  [dir="rtl"] .hero-content { 
    flex-direction: column-reverse; 
    text-align: center; 
  }
  [dir="rtl"] .brand { 
    flex-direction: column; 
    align-items: center; 
  }
  [dir="rtl"] .header-inner {
    text-align: center;
    align-items: center;
  }
  [dir="rtl"] .top-controls {
    justify-content: center;
    direction: ltr; /* Keep buttons in logical order */
    align-items: center;
    display: flex;
    flex-wrap: nowrap;
  }
}

/* Arabic font support */
[data-lang="ar"] {
  font-family: "Noto Sans Arabic", "Cairo", "Amiri", system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  line-height: 1.6;
}

/* Arabic mobile font adjustments */
@media (max-width: 768px) {
  [data-lang="ar"] {
    font-size: 1.05rem;
    line-height: 1.7;
  }
  [data-lang="ar"] .hero-text h2 {
    font-size: 1.5rem;
    line-height: 1.4;
  }
  [data-lang="ar"] .lead {
    font-size: 1rem;
    line-height: 1.6;
  }
  [data-lang="ar"] .project-desc {
    font-size: 0.95rem;
    line-height: 1.7;
  }
}

@media (max-width: 480px) {
  [data-lang="ar"] .hero-text h2 {
    font-size: 1.3rem;
  }
  [data-lang="ar"] .lead {
    font-size: 0.95rem;
  }
}

/* Smooth transitions for language/direction changes */
html {
  transition: direction 0.3s ease;
}

body {
  transition: all 0.3s ease;
}

/* Better RTL layout stability */
[dir="rtl"] {
  text-align: right;
}

[dir="rtl"] .container {
  direction: rtl;
}

[dir="rtl"] .hero-text {
  text-align: right;
}

[dir="rtl"] .lead {
  text-align: right;
}

[dir="rtl"] section {
  text-align: right;
}

[dir="rtl"] .project-desc {
  text-align: right;
}

[dir="rtl"] .timeline {
  text-align: right;
}

/* RTL Mobile specific fixes */
@media (max-width: 600px) {
  [dir="rtl"] {
    overflow-x: hidden !important;
    max-width: 100vw !important;
  }
  [dir="rtl"] .hero-text {
    text-align: center;
    width: 100%;
    max-width: 100%;
  }
  [dir="rtl"] .lead {
    text-align: center;
    width: 100%;
    max-width: 100%;
  }
  [dir="rtl"] section {
    text-align: center;
    width: 100%;
    max-width: 100%;
    overflow-x: hidden;
  }
  [dir="rtl"] .project-desc {
    text-align: right;
    line-height: 1.6;
    width: 100%;
    max-width: 100%;
  }
  [dir="rtl"] .timeline {
    text-align: right;
    padding-right: 0;
    width: 100%;
    max-width: 100%;
  }
  [dir="rtl"] .container {
    overflow-x: hidden !important;
    max-width: 100vw !important;
  }
}

/* Dark mode */
body.dark {
  --color-bg: #1a202c;
  --color-char: #f7fafc;
  --muted: #a0aec0;
  background: #1a202c;
  color: var(--color-char);
}

body.dark .btn.primary { 
  background: var(--color-accent); 
  color: var(--color-primary); 
  border-color: rgba(200, 169, 106, 0.3);
}

body.dark .btn.ghost {
  border-color: rgba(248, 249, 250, 0.2);
  color: var(--color-char);
}

body.dark .btn.ghost:hover {
  background: rgba(248, 249, 250, 0.1);
  border-color: rgba(248, 249, 250, 0.3);
}

body.dark .skill-card { 
  background: #2d3748; 
  border: 1px solid rgba(200, 169, 106, 0.3);
  color: var(--color-char);
}

body.dark .project-card { 
  background: #2d3748; 
  border: 1px solid rgba(200, 169, 106, 0.3);
  color: var(--color-char);
}

body.dark .contact-card { 
  background: #2d3748; 
  border: 1px solid rgba(200, 169, 106, 0.3);
  color: var(--color-char);
}

body.dark .site-header {
  border-bottom-color: rgba(248, 249, 250, 0.1);
  backdrop-filter: blur(8px);
  background: rgba(26, 32, 44, 0.95);
}

body.dark .site-footer {
  border-top-color: rgba(248, 249, 250, 0.1);
}

body.dark .muted,
body.dark .site-tag,
body.dark #contact .muted {
  color: var(--muted) !important;
}

body.dark .chips li {
  background: rgba(248, 249, 250, 0.1);
  color: var(--muted);
}

body.dark .filter-btn {
  border-color: rgba(248, 249, 250, 0.2);
  color: var(--color-char);
}

body.dark .filter-btn.active {
  background: var(--color-accent);
  color: var(--color-primary);
  border-color: var(--color-accent);
}

/* Dark mode section titles */
body.dark section h3 {
  color: var(--color-accent) !important;
  font-weight: 700;
  text-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);
}

body.dark .hero-text h2 {
  color: var(--color-char) !important;
  font-weight: 600;
}

body.dark .site-name {
  color: var(--color-char) !important;
  font-weight: 600;
}

/* Improved button styles */
.btn:hover { transform: translateY(-1px); transition: all var(--transition); }
.btn.primary:hover { box-shadow: 0 8px 25px rgba(11,31,59,0.15); }
.btn.ghost:hover { background: rgba(11,31,59,0.05); }

/* Enhanced animations */
@keyframes fadeInUp {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

.hero-content { animation: fadeInUp 0.6s ease-out; }

/* Better focus states */
.btn:focus, .contact-card:focus {
  outline: 2px solid var(--color-accent);
  outline-offset: 2px;
}

/* Responsive */
/* Tablet breakpoint */
@media (max-width: 1024px) {
  .container { padding: 1.5rem 1rem; }
  .hero-content { gap: 1.5rem; }
  .projects-grid { grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); }
}

/* Small tablet/large mobile */
@media (max-width: 768px) {
  .hero-content { flex-direction: column-reverse; text-align: center; gap: 2rem; }
  .hero-avatar img { margin: 0 auto; width: 160px; height: 160px; }
  .header-inner { 
    flex-direction: column; 
    align-items: stretch; 
    gap: 1rem; 
    text-align: center;
  }
  .top-controls { 
    flex-wrap: nowrap; 
    gap: 0.5rem; 
    justify-content: center;
    width: 100%;
    display: flex;
    align-items: center;
  }
  .btn { 
    min-height: 44px; 
    padding: 0.75rem 1rem; 
    font-size: 0.95rem;
    white-space: nowrap;
  }
  .contact-cards { 
    flex-direction: column; 
    gap: 1rem;
  }
  .contact-card {
    min-height: 44px;
    padding: 0.75rem 1rem;
  }
  .skill-grid { grid-template-columns: 1fr; gap: 1rem; }
  .projects-grid { grid-template-columns: 1fr; gap: 1.5rem; }
  .filter-row { justify-content: center; flex-wrap: wrap; }
}

/* Mobile */
@media (max-width: 600px) {
  .container { padding: 1rem 0.75rem; }
  .hero-text h2 { font-size: 1.4rem; line-height: 1.3; }
  .lead { font-size: 0.95rem; line-height: 1.5; }
  .hero-avatar img { width: 140px; height: 140px; }
  .brand { 
    flex-direction: column; 
    align-items: center; 
    text-align: center; 
    gap: 0.5rem; 
  }
  .site-name { font-size: 1rem; }
  .site-tag { font-size: 0.8rem; }
  .project-card { padding: 1.25rem; }
  .project-desc { font-size: 0.9rem; line-height: 1.5; }
  .btn.small { min-height: 40px; padding: 0.6rem 0.8rem; }
  
  /* Force buttons to stay on same line */
  .top-controls {
    flex-wrap: nowrap !important;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
  }
  .btn {
    flex-shrink: 0;
    font-size: 0.85rem;
    padding: 0.6rem 0.75rem;
  }
}

/* Very small screens */
@media (max-width: 480px) {
  html, body {
    overflow-x: hidden !important;
    max-width: 100vw !important;
    width: 100% !important;
  }
  .container { 
    padding: 0.75rem 0.5rem; 
    max-width: 100vw !important;
    overflow-x: hidden !important;
  }
  .hero-text h2 { font-size: 1.2rem; }
  .lead { font-size: 0.9rem; }
  .hero-avatar img { width: 120px; height: 120px; }
  .top-controls { gap: 0.5rem; }
  .btn { padding: 0.6rem 0.8rem; font-size: 0.9rem; }
  .project-card { 
    padding: 1rem; 
    width: 100% !important;
    max-width: 100% !important;
    box-sizing: border-box !important;
  }
  .contact-card { padding: 0.6rem 0.8rem; }
  .chips { gap: 0.25rem; }
  .chips li { padding: 0.15rem 0.4rem; font-size: 0.8rem; }
  
  /* Fix Arabic RTL overflow on very small screens */
  [dir="rtl"] * {
    max-width: 100% !important;
    overflow-x: hidden !important;
  }
}
